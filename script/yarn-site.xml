<?xml version="1.0"?>
<configuration>
  <property>
    <name>yarn.nodemanager.aux-services</name>
    <value>mapreduce_shuffle</value>
  </property>

  <property>
    <name>yarn.resourcemanager.scheduler.class</name>
    <value>org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler</value>
  </property>

  <property>
    <name>yarn.scheduler.fair.allocation.file</name>
    <value>/users/tanle/hadoop-2.7.0/etc/capacity-scheduler.xml</value>
  </property> 

  <property>
    <name>yarn.resourcemanager.address</name>
    <value>nm:8040</value>
  </property>

  <property>
    <name>yarn.resourcemanager.scheduler.address</name>
    <value>nm:8030</value>
  </property>

  <property>
    <name>yarn.resourcemanager.resource-tracker.address</name>
    <value>nm:8025</value>
  </property>

  <property>
    <name>yarn.scheduler.maximum-allocation-mb</name>
    <value>32768</value>
  </property>

  <property>
    <name>yarn.nodemanager.resource.cpu-vcores</name>
    <value>32</value>
  </property>

<!--
  <property>
    <name>yarn.scheduler.maximum-allocation-vcores</name>
    <value>32</value>
  </property> 
-->

  <property>
    <name>yarn.nodemanager.resource.memory-mb</name>
    <value>65536</value>
  </property>

  <property>
    <name>yarn.nodemanager.vmem-pmem-ratio</name>
    <value>4</value>
  </property>

  <property>
    <name>yarn.nodemanager.log-dirs</name>
    <value>/dev/yarn-logs</value>
  </property>

<!-- CGroups -->
<!--

	<property>
		<name>yarn.nodemanager.linux-container-executor.resources-handler.class</name>
		<value>org.apache.hadoop.yarn.server.nodemanager.util.CgroupsLCEResourcesHandler</value>
	</property>
	<property>
		<name>yarn.nodemanager.linux-container-executor.cgroups.mount</name>
		<value>true</value>
	</property>
	<property>
		<name>yarn.nodemanager.linux-container-executor.cgroups.mount-path</name>
		<value>/sys/fs/cgroup</value>
	</property>
	<property>
		<name>yarn.nodemanager.linux-container-executor.cgroups.hierarchy</name>
		<value>/yarn</value> 		
	</property>
	<property>
		<name>yarn.nodemanager.linux-container-executor.group</name>
		<value>tanle</value>
	</property> 
-->
	<property>
		<name>yarn.nodemanager.linux-container-executor.nonsecure-mode.limit-users</name>
		<value>true</value>
	</property> 	
	<property>
		<name>yarn.nodemanager.linux-container-executor.nonsecure-mode.local-user</name>
		<value>tanle</value>
	</property> 

</configuration>
